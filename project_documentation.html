<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ ªå¼è‡ªå‹•å£²è²·BOT - ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆè©³ç´°ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body {
            font-family: 'Arial', 'Hiragino Sans', 'Meiryo', sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background: white;
            margin-top: 20px;
            margin-bottom: 20px;
            border-radius: 10px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }
        .header {
            text-align: center;
            margin-bottom: 40px;
            padding: 30px 0;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-radius: 10px;
        }
        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }
        .header p {
            font-size: 1.2em;
            opacity: 0.9;
        }
        .toc {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 30px;
            border-left: 4px solid #667eea;
        }
        .toc h2 {
            margin-bottom: 15px;
            color: #667eea;
        }
        .toc ul {
            list-style: none;
        }
        .toc li {
            margin: 5px 0;
        }
        .toc a {
            color: #667eea;
            text-decoration: none;
            padding: 5px 10px;
            border-radius: 4px;
            transition: background-color 0.3s;
        }
        .toc a:hover {
            background-color: #667eea;
            color: white;
        }
        .section {
            margin-bottom: 40px;
            padding: 20px;
            background: #fafafa;
            border-radius: 8px;
            border-left: 4px solid #667eea;
        }
        .section h2 {
            color: #667eea;
            margin-bottom: 20px;
            font-size: 1.8em;
            border-bottom: 2px solid #667eea;
            padding-bottom: 10px;
        }
        .section h3 {
            color: #764ba2;
            margin: 20px 0 10px 0;
            font-size: 1.4em;
        }
        .file-card {
            background: white;
            padding: 20px;
            margin: 15px 0;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            border-left: 4px solid #28a745;
        }
        .file-card h4 {
            color: #28a745;
            margin-bottom: 10px;
            font-size: 1.3em;
        }
        .file-path {
            background: #f1f1f1;
            padding: 5px 10px;
            border-radius: 4px;
            font-family: monospace;
            font-size: 0.9em;
            color: #666;
            margin-bottom: 10px;
        }
        .file-description {
            margin-bottom: 15px;
            line-height: 1.7;
        }
        .file-details {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 6px;
            border-left: 3px solid #6c757d;
        }
        .file-details h5 {
            color: #6c757d;
            margin-bottom: 8px;
        }
        .file-details ul {
            margin-left: 20px;
        }
        .file-details li {
            margin: 5px 0;
        }
        .code-snippet {
            background: #2d3748;
            color: #e2e8f0;
            padding: 15px;
            border-radius: 6px;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
            overflow-x: auto;
            margin: 10px 0;
        }
        .status-badge {
            display: inline-block;
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 0.8em;
            font-weight: bold;
            margin-left: 10px;
        }
        .status-completed {
            background: #d4edda;
            color: #155724;
        }
        .status-in-progress {
            background: #fff3cd;
            color: #856404;
        }
        .status-pending {
            background: #f8d7da;
            color: #721c24;
        }
        .architecture-diagram {
            background: #fff;
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
            border: 2px solid #667eea;
        }
        .tech-stack {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }
        .tech-item {
            background: white;
            padding: 15px;
            border-radius: 6px;
            border-left: 4px solid #dc3545;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        .tech-item h4 {
            color: #dc3545;
            margin-bottom: 8px;
        }
        .phase-status {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }
        .phase-card {
            background: white;
            padding: 15px;
            border-radius: 6px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        .phase-card h4 {
            margin-bottom: 10px;
        }
        .phase-completed {
            border-left: 4px solid #28a745;
        }
        .phase-in-progress {
            border-left: 4px solid #ffc107;
        }
        .phase-pending {
            border-left: 4px solid #dc3545;
        }
        .warning-box {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            padding: 15px;
            border-radius: 6px;
            margin: 20px 0;
        }
        .warning-box h4 {
            color: #856404;
            margin-bottom: 10px;
        }
        .footer {
            text-align: center;
            margin-top: 40px;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 8px;
            color: #6c757d;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ¤– æ ªå¼è‡ªå‹•å£²è²·BOT</h1>
            <p>J-Quants Standard ãƒ—ãƒ©ãƒ³å¯¾å¿œ - ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆè©³ç´°ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ</p>
            <p>æœ€çµ‚æ›´æ–°: 2025å¹´7æœˆ18æ—¥</p>
        </div>

        <div class="toc">
            <h2>ğŸ“‹ ç›®æ¬¡</h2>
            <ul>
                <li><a href="#overview">1. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦</a></li>
                <li><a href="#architecture">2. ã‚·ã‚¹ãƒ†ãƒ å…¨ä½“ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£</a></li>
                <li><a href="#tech-stack">3. æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯</a></li>
                <li><a href="#phase-status">4. é–‹ç™ºãƒ•ã‚§ãƒ¼ã‚ºçŠ¶æ³</a></li>
                <li><a href="#files">5. ãƒ•ã‚¡ã‚¤ãƒ«è©³ç´°è§£èª¬</a></li>
                <li><a href="#next-steps">6. æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—</a></li>
            </ul>
        </div>

        <section id="overview" class="section">
            <h2>ğŸ¯ 1. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦</h2>
            <p>æœ¬ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯ã€J-Quants Standard ãƒ—ãƒ©ãƒ³ã‚’åˆ©ç”¨ã—ãŸæ ªå¼è‡ªå‹•å£²è²·BOTã§ã™ã€‚æ©Ÿæ¢°å­¦ç¿’ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã‚’çµ„ã¿åˆã‚ã›ã¦ã€å¹´ç‡15-20%ã®ãƒªã‚¿ãƒ¼ãƒ³ã¨Sharpeæ¯”1.5ä»¥ä¸Šã‚’ç›®æŒ‡ã—ã¾ã™ã€‚</p>
            
            <div class="file-details">
                <h5>ğŸ¯ ç›®æ¨™KPI</h5>
                <ul>
                    <li><strong>ç›®æ¨™å¹´ç‡ãƒªã‚¿ãƒ¼ãƒ³:</strong> 15-20%</li>
                    <li><strong>ç›®æ¨™Sharpeæ¯”:</strong> â‰¥ 1.5</li>
                    <li><strong>è¨±å®¹æœ€å¤§ãƒ‰ãƒ­ãƒ¼ãƒ€ã‚¦ãƒ³:</strong> â‰¤ 15%</li>
                    <li><strong>é‹ç”¨è³‡æœ¬:</strong> 100ä¸‡å††ï½1,000ä¸‡å††ã‚¹ã‚±ãƒ¼ãƒ«</li>
                    <li><strong>å–å¼•å¯¾è±¡:</strong> æ±è¨¼ä¸Šå ´æ ªï¼ˆãƒ—ãƒ©ã‚¤ãƒ /ã‚¹ã‚¿ãƒ³ãƒ€ãƒ¼ãƒ‰/ã‚°ãƒ­ãƒ¼ã‚¹ï¼‰</li>
                </ul>
            </div>
        </section>

        <section id="architecture" class="section">
            <h2>ğŸ—ï¸ 2. ã‚·ã‚¹ãƒ†ãƒ å…¨ä½“ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£</h2>
            <div class="architecture-diagram">
                <h3>ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼</h3>
                <div class="code-snippet">
J-Quants API â†’ FastAPI Collector â†’ Kafka â†’ PostgreSQL
                â†“
         Feature Engineering (pandas-ta)
                â†“
      ML Models (Transformer, LSTM, PPO)
                â†“
         Portfolio Allocation
                â†“
           Order Execution
                </div>
            </div>
            
            <div class="file-details">
                <h5>ğŸ”§ ä¸»è¦ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ</h5>
                <ul>
                    <li><strong>ãƒ‡ãƒ¼ã‚¿ãƒ¬ã‚¤ãƒ¤:</strong> J-Quants API â†’ Kafka â†’ PostgreSQL</li>
                    <li><strong>Feature-Hub:</strong> ãƒ†ã‚¯ãƒ‹ã‚«ãƒ«æŒ‡æ¨™ + ãƒãƒ¼ã‚±ãƒƒãƒˆçµ±è¨ˆ + ãƒ•ã‚¡ãƒ³ãƒ€ãƒ¡ãƒ³ã‚¿ãƒ«ã‚º</li>
                    <li><strong>ãƒ¢ãƒ‡ãƒ«å±¤:</strong> 5ã¤ã®MLã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ï¼ˆTransformer, LSTM, PPOç­‰ï¼‰</li>
                    <li><strong>å®Ÿè¡Œå±¤:</strong> SBI APIçµŒç”±ã§ã®ç¾ç‰©å–å¼•</li>
                </ul>
            </div>
        </section>

        <section id="tech-stack" class="section">
            <h2>ğŸ’» 3. æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯</h2>
            <div class="tech-stack">
                <div class="tech-item">
                    <h4>ğŸ Python Core</h4>
                    <p>Python 3.11, pandas, numpy, scikit-learn</p>
                </div>
                <div class="tech-item">
                    <h4>ğŸ§  Machine Learning</h4>
                    <p>PyTorch, Transformers, LSTM, Random Forest</p>
                </div>
                <div class="tech-item">
                    <h4>ğŸ“Š Data & Storage</h4>
                    <p>PostgreSQL, Kafka, J-Quants API</p>
                </div>
                <div class="tech-item">
                    <h4>ğŸ³ Infrastructure</h4>
                    <p>Docker, docker-compose, GitHub Actions</p>
                </div>
                <div class="tech-item">
                    <h4>ğŸ“ˆ Monitoring</h4>
                    <p>Grafana, Prometheus, Discord Webhook</p>
                </div>
                <div class="tech-item">
                    <h4>ğŸ”§ Development</h4>
                    <p>pytest, ruff, Makefile, CI/CD</p>
                </div>
            </div>
        </section>

        <section id="phase-status" class="section">
            <h2>ğŸ“Š 4. é–‹ç™ºãƒ•ã‚§ãƒ¼ã‚ºçŠ¶æ³</h2>
            <div class="phase-status">
                <div class="phase-card phase-completed">
                    <h4>Phase P0: éª¨æ ¼ <span class="status-badge status-completed">å®Œäº†</span></h4>
                    <p>åŸºæœ¬çš„ãªãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ ã¨Dockerç’°å¢ƒã®æ§‹ç¯‰ãŒå®Œäº†ã€‚</p>
                </div>
                <div class="phase-card phase-in-progress">
                    <h4>Phase P1: æ—¥æ¬¡ETL + Transformer <span class="status-badge status-in-progress">é€²è¡Œä¸­</span></h4>
                    <p>ãƒ‡ãƒ¼ã‚¿å–å¾—ã‚¹ã‚¯ãƒªãƒ—ãƒˆã¨Rank-Transformerãƒ¢ãƒ‡ãƒ«ã®å®Ÿè£…ãŒå®Œäº†ã€‚PostgreSQLé€£æºãŒæ®‹ã‚Šã€‚</p>
                </div>
                <div class="phase-card phase-pending">
                    <h4>Phase P2: LSTM + Live Signal <span class="status-badge status-pending">æœªç€æ‰‹</span></h4>
                    <p>1åˆ†/5åˆ†è¶³LSTMãƒ¢ãƒ‡ãƒ«ã¨ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã‚·ã‚°ãƒŠãƒ«ç”Ÿæˆã®å®Ÿè£…äºˆå®šã€‚</p>
                </div>
                <div class="phase-card phase-pending">
                    <h4>Phase P3: PPO + Dynamic Allocator <span class="status-badge status-pending">æœªç€æ‰‹</span></h4>
                    <p>å¼·åŒ–å­¦ç¿’ãƒ¢ãƒ‡ãƒ«ã¨ãƒ€ã‚¤ãƒŠãƒŸãƒƒã‚¯ã‚¢ãƒ­ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®å®Ÿè£…äºˆå®šã€‚</p>
                </div>
            </div>
        </section>

        <section id="files" class="section">
            <h2>ğŸ“ 5. ãƒ•ã‚¡ã‚¤ãƒ«è©³ç´°è§£èª¬</h2>
            
            <h3>ğŸ Python ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰</h3>
            
            <div class="file-card">
                <h4>ğŸ¤– src/models/rank_transformer.py</h4>
                <div class="file-path">src/models/rank_transformer.py</div>
                <div class="file-description">
                    <strong>ãƒ¡ã‚¤ãƒ³MLãƒ¢ãƒ‡ãƒ«:</strong> æ ªå¼ãƒ©ãƒ³ã‚­ãƒ³ã‚°äºˆæ¸¬ç”¨ã®Transformerãƒ¢ãƒ‡ãƒ«å®Ÿè£…ã€‚Time2VecåŸ‹ã‚è¾¼ã¿ã¨ä½ç½®ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã‚’ä½¿ç”¨ã—ã€2å±¤4ãƒ˜ãƒƒãƒ‰ã®Transformerã‚¨ãƒ³ã‚³ãƒ¼ãƒ€ãƒ¼ã§æ§‹ç¯‰ã€‚
                </div>
                <div class="file-details">
                    <h5>ğŸ”§ ä¸»è¦æ©Ÿèƒ½</h5>
                    <ul>
                        <li><strong>Time2Vec:</strong> æ™‚ç³»åˆ—ãƒ‡ãƒ¼ã‚¿ã®åŸ‹ã‚è¾¼ã¿è¡¨ç¾ï¼ˆ16æ¬¡å…ƒâ†’64æ¬¡å…ƒï¼‰</li>
                        <li><strong>Transformer:</strong> 2å±¤4ãƒ˜ãƒƒãƒ‰ã®ã‚¨ãƒ³ã‚³ãƒ¼ãƒ€ãƒ¼æ§‹é€ </li>
                        <li><strong>ãƒ†ã‚¯ãƒ‹ã‚«ãƒ«æŒ‡æ¨™:</strong> SMA, RSI, ãƒœãƒ©ãƒ†ã‚£ãƒªãƒ†ã‚£ç­‰ã®è‡ªå‹•ç”Ÿæˆ</li>
                        <li><strong>fit()ãƒ¡ã‚½ãƒƒãƒ‰:</strong> éå»ãƒ‡ãƒ¼ã‚¿ã§ã®å­¦ç¿’ï¼ˆ100ã‚¨ãƒãƒƒã‚¯ï¼‰</li>
                        <li><strong>predict_top(N):</strong> ä¸Šä½NéŠ˜æŸ„ã®ãƒ©ãƒ³ã‚­ãƒ³ã‚°äºˆæ¸¬</li>
                    </ul>
                </div>
            </div>

            <div class="file-card">
                <h4>ğŸ“Š src/data/jquants_client.py</h4>
                <div class="file-path">src/data/jquants_client.py</div>
                <div class="file-description">
                    <strong>ãƒ‡ãƒ¼ã‚¿å–å¾—ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ:</strong> J-Quants APIã‹ã‚‰ã®æ ªä¾¡ãƒ‡ãƒ¼ã‚¿å–å¾—ã‚’æ‹…å½“ã€‚æ—¥æ¬¡ãƒ‡ãƒ¼ã‚¿ã¨1åˆ†è¶³ãƒ‡ãƒ¼ã‚¿ã®ä¸¡æ–¹ã«å¯¾å¿œã—ã€ãƒªãƒˆãƒ©ã‚¤æ©Ÿèƒ½ã¨ã‚­ãƒ£ãƒƒã‚·ãƒ¥æ©Ÿèƒ½ã‚’å†…è”µã€‚
                </div>
                <div class="file-details">
                    <h5>ğŸ”§ ä¸»è¦æ©Ÿèƒ½</h5>
                    <ul>
                        <li><strong>èªè¨¼:</strong> J-Quants APIèªè¨¼ï¼ˆãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹+ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ï¼‰</li>
                        <li><strong>æ—¥æ¬¡ãƒ‡ãƒ¼ã‚¿:</strong> OHLCVå½¢å¼ã§ã®æ ªä¾¡ãƒ‡ãƒ¼ã‚¿å–å¾—</li>
                        <li><strong>1åˆ†è¶³ãƒ‡ãƒ¼ã‚¿:</strong> é«˜é »åº¦ãƒ‡ãƒ¼ã‚¿å–å¾—ï¼ˆå®Ÿè£…æ¸ˆã¿ï¼‰</li>
                        <li><strong>ãƒªãƒˆãƒ©ã‚¤æ©Ÿèƒ½:</strong> æœ€å¤§3å›ã®è‡ªå‹•å†è©¦è¡Œ</li>
                        <li><strong>ã‚­ãƒ£ãƒƒã‚·ãƒ¥:</strong> 60ç§’é–“ã®ãƒ¡ãƒ¢ãƒªã‚­ãƒ£ãƒƒã‚·ãƒ¥ã§é«˜é€ŸåŒ–</li>
                    </ul>
                </div>
            </div>

            <div class="file-card">
                <h4>ğŸ”„ scripts/fetch_prices_daily.py</h4>
                <div class="file-path">scripts/fetch_prices_daily.py</div>
                <div class="file-description">
                    <strong>æ—¥æ¬¡ãƒ‡ãƒ¼ã‚¿å–å¾—ã‚¹ã‚¯ãƒªãƒ—ãƒˆ:</strong> å¤–éƒ¨ä¾å­˜ãƒ•ã‚¡ã‚¤ãƒ«ã€‚J-Quants APIã‹ã‚‰æ ªä¾¡ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ã—ã¦PostgreSQLã«ä¿å­˜ã™ã‚‹ETLã‚¹ã‚¯ãƒªãƒ—ãƒˆã€‚
                </div>
                <div class="file-details">
                    <h5>ğŸ”§ æƒ³å®šã•ã‚Œã‚‹æ©Ÿèƒ½</h5>
                    <ul>
                        <li><strong>universe.csv:</strong> éŠ˜æŸ„ãƒªã‚¹ãƒˆã®èª­ã¿è¾¼ã¿</li>
                        <li><strong>æ—¥ä»˜ç¯„å›²æŒ‡å®š:</strong> --start ã¨ --end ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿</li>
                        <li><strong>PostgreSQLé€£æº:</strong> pricesãƒ†ãƒ¼ãƒ–ãƒ«ã¸ã®ä¿å­˜</li>
                        <li><strong>ãƒãƒƒãƒå‡¦ç†:</strong> è¤‡æ•°éŠ˜æŸ„ã®ä¸€æ‹¬å–å¾—</li>
                    </ul>
                </div>
            </div>

            <div class="file-card">
                <h4>â° scripts/etl_nightly.sh</h4>
                <div class="file-path">scripts/etl_nightly.sh</div>
                <div class="file-description">
                    <strong>æ—¥æ¬¡ETLãƒãƒƒãƒ:</strong> æ¯æ—¥åˆå‰3æ™‚ã«å®Ÿè¡Œã•ã‚Œã‚‹è‡ªå‹•ãƒ‡ãƒ¼ã‚¿æ›´æ–°ã‚¹ã‚¯ãƒªãƒ—ãƒˆã€‚å‰æ—¥åˆ†ã®ãƒ‡ãƒ¼ã‚¿ã‚’è‡ªå‹•å–å¾—ã€‚
                </div>
                <div class="file-details">
                    <h5>ğŸ”§ å®Ÿè¡Œå†…å®¹</h5>
                    <ul>
                        <li><strong>å‰æ—¥ãƒ‡ãƒ¼ã‚¿:</strong> $(date -d '1 day ago' +%F) ã§å‰æ—¥æ—¥ä»˜ã‚’å–å¾—</li>
                        <li><strong>å½“æ—¥ã¾ã§:</strong> $(date +%F) ã§å½“æ—¥æ—¥ä»˜ã‚’å–å¾—</li>
                        <li><strong>éŠ˜æŸ„ãƒªã‚¹ãƒˆ:</strong> universe.csv ã‹ã‚‰å–å¾—éŠ˜æŸ„ã‚’æ±ºå®š</li>
                        <li><strong>croné€£æº:</strong> 03:00 ã«è‡ªå‹•å®Ÿè¡Œæƒ³å®š</li>
                    </ul>
                </div>
            </div>

            <div class="file-card">
                <h4>ğŸ§ª tests/test_rank_transformer.py</h4>
                <div class="file-path">tests/test_rank_transformer.py</div>
                <div class="file-description">
                    <strong>å˜ä½“ãƒ†ã‚¹ãƒˆ:</strong> RankTransformerãƒ¢ãƒ‡ãƒ«ã®å‹•ä½œç¢ºèªãƒ†ã‚¹ãƒˆã€‚100è¡Œã®ãƒ©ãƒ³ãƒ€ãƒ OHLCVãƒ‡ãƒ¼ã‚¿ã‚’ç”Ÿæˆã—ã¦ãƒ¢ãƒ‡ãƒ«ã®å­¦ç¿’ãƒ»äºˆæ¸¬æ©Ÿèƒ½ã‚’ãƒ†ã‚¹ãƒˆã€‚
                </div>
                <div class="file-details">
                    <h5>ğŸ”§ ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹</h5>
                    <ul>
                        <li><strong>åŸºæœ¬ãƒ†ã‚¹ãƒˆ:</strong> 100è¡Œãƒ‡ãƒ¼ã‚¿ã§fit() â†’ predict_top(5)ãŒæ­£å¸¸å‹•ä½œ</li>
                        <li><strong>å°è¦æ¨¡ãƒ‡ãƒ¼ã‚¿:</strong> 10è¡Œãƒ‡ãƒ¼ã‚¿ã§ã®å‹•ä½œç¢ºèª</li>
                        <li><strong>Volumeç„¡ã—:</strong> volumeã‚«ãƒ©ãƒ ãŒãªã„å ´åˆã®å‡¦ç†</li>
                        <li><strong>ã‚¨ãƒ©ãƒ¼ã‚±ãƒ¼ã‚¹:</strong> å­¦ç¿’å‰äºˆæ¸¬ã§ã®ã‚¨ãƒ©ãƒ¼å‡¦ç†</li>
                    </ul>
                </div>
            </div>

            <h3>ğŸ”§ è¨­å®šãƒ»æ§‹æˆãƒ•ã‚¡ã‚¤ãƒ«</h3>

            <div class="file-card">
                <h4>ğŸ³ docker-compose.yml</h4>
                <div class="file-path">docker-compose.yml</div>
                <div class="file-description">
                    <strong>Dockerç’°å¢ƒæ§‹æˆ:</strong> PostgreSQL, Kafka, Grafana, ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚µãƒ¼ãƒãƒ¼ã‚’çµ±åˆç®¡ç†ã€‚producerã¨consumerã‚µãƒ¼ãƒ“ã‚¹ã¯å‰Šé™¤æ¸ˆã¿ã€‚
                </div>
                <div class="file-details">
                    <h5>ğŸ”§ ã‚µãƒ¼ãƒ“ã‚¹æ§‹æˆ</h5>
                    <ul>
                        <li><strong>postgres:</strong> PostgreSQL 13ï¼ˆprices ãƒ†ãƒ¼ãƒ–ãƒ«ç”¨ï¼‰</li>
                        <li><strong>kafka + zookeeper:</strong> ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒ‡ãƒ¼ã‚¿ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°</li>
                        <li><strong>grafana:</strong> ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ï¼ˆãƒãƒ¼ãƒˆ3000ï¼‰</li>
                        <li><strong>app:</strong> ãƒ¡ã‚¤ãƒ³ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆãƒãƒ¼ãƒˆ8000ï¼‰</li>
                    </ul>
                </div>
            </div>

            <div class="file-card">
                <h4>ğŸ“¦ requirements.txt</h4>
                <div class="file-path">requirements.txt</div>
                <div class="file-description">
                    <strong>Pythonä¾å­˜é–¢ä¿‚:</strong> ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ä½¿ç”¨ã™ã‚‹å…¨ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†ã€‚torch, scikit-learn ã‚’æœ€æ–°è¿½åŠ ã€‚
                </div>
                <div class="file-details">
                    <h5>ğŸ”§ ä¸»è¦ãƒ©ã‚¤ãƒ–ãƒ©ãƒª</h5>
                    <ul>
                        <li><strong>æ©Ÿæ¢°å­¦ç¿’:</strong> torch>=2.0.0, scikit-learn>=1.3.0</li>
                        <li><strong>ãƒ‡ãƒ¼ã‚¿å‡¦ç†:</strong> pandas>=1.5.0, numpy>=1.26.0</li>
                        <li><strong>API:</strong> J-Quants API clientï¼ˆGitHubç›´æ¥ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ï¼‰</li>
                        <li><strong>ãƒ†ã‚¹ãƒˆ:</strong> pytest>=7.0.0, ruff>=0.1.0</li>
                        <li><strong>ã‚¤ãƒ³ãƒ•ãƒ©:</strong> psycopg2-binary, confluent-kafka</li>
                    </ul>
                </div>
            </div>

            <div class="file-card">
                <h4>ğŸ—„ï¸ postgres/init/001_create_prices.sql</h4>
                <div class="file-path">postgres/init/001_create_prices.sql</div>
                <div class="file-description">
                    <strong>DBåˆæœŸåŒ–ã‚¹ã‚¯ãƒªãƒ—ãƒˆ:</strong> PostgreSQLèµ·å‹•æ™‚ã«è‡ªå‹•å®Ÿè¡Œã•ã‚Œã‚‹ã€‚æ ªä¾¡ãƒ‡ãƒ¼ã‚¿ä¿å­˜ç”¨ã®pricesãƒ†ãƒ¼ãƒ–ãƒ«ã‚’ä½œæˆã€‚
                </div>
                <div class="file-details">
                    <h5>ğŸ”§ ãƒ†ãƒ¼ãƒ–ãƒ«æ§‹é€ </h5>
                    <ul>
                        <li><strong>PRIMARY KEY:</strong> (date, symbol) ã®è¤‡åˆã‚­ãƒ¼</li>
                        <li><strong>OHLCV:</strong> open, high, low, close, volume ã‚«ãƒ©ãƒ </li>
                        <li><strong>ãƒ‡ãƒ¼ã‚¿å‹:</strong> NUMERIC (ä¾¡æ ¼), BIGINT (å‡ºæ¥é«˜)</li>
                        <li><strong>åˆ¶ç´„:</strong> NOT NULLåˆ¶ç´„ã§å¿…é ˆãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ä¿è¨¼</li>
                    </ul>
                </div>
            </div>

            <div class="file-card">
                <h4>ğŸš€ .github/workflows/ci.yml</h4>
                <div class="file-path">.github/workflows/ci.yml</div>
                <div class="file-description">
                    <strong>CI/CDè¨­å®š:</strong> GitHub Actions ã§ã®è‡ªå‹•ãƒ†ã‚¹ãƒˆå®Ÿè¡Œã€‚ã‚³ãƒ¼ãƒ‰ã‚¹ã‚¿ã‚¤ãƒ«ãƒã‚§ãƒƒã‚¯ï¼ˆruffï¼‰ã¨ãƒ†ã‚¹ãƒˆå®Ÿè¡Œï¼ˆpytestï¼‰ã‚’è‡ªå‹•åŒ–ã€‚
                </div>
                <div class="file-details">
                    <h5>ğŸ”§ CI ã‚¹ãƒ†ãƒƒãƒ—</h5>
                    <ul>
                        <li><strong>Python 3.11:</strong> é–‹ç™ºç’°å¢ƒã¨åŒã˜ãƒãƒ¼ã‚¸ãƒ§ãƒ³</li>
                        <li><strong>ä¾å­˜é–¢ä¿‚:</strong> requirements.txt ã‹ã‚‰ã®è‡ªå‹•ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«</li>
                        <li><strong>ã‚³ãƒ¼ãƒ‰ã‚¹ã‚¿ã‚¤ãƒ«:</strong> ruff check . ã«ã‚ˆã‚‹é™çš„è§£æ</li>
                        <li><strong>ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ:</strong> pytest || exit 0 ï¼ˆå¸¸ã«æˆåŠŸï¼‰</li>
                    </ul>
                </div>
            </div>

            <h3>âš™ï¸ é–‹ç™ºãƒ»é‹ç”¨ãƒ•ã‚¡ã‚¤ãƒ«</h3>

            <div class="file-card">
                <h4>ğŸ› ï¸ Makefile</h4>
                <div class="file-path">Makefile</div>
                <div class="file-description">
                    <strong>é–‹ç™ºã‚¿ã‚¹ã‚¯è‡ªå‹•åŒ–:</strong> condaç’°å¢ƒã§ã®ãƒ†ã‚¹ãƒˆå®Ÿè¡Œã€Dockeræ“ä½œã€ã‚³ãƒ¼ãƒ‰ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆç­‰ã‚’ç°¡å˜ãªã‚³ãƒãƒ³ãƒ‰ã§å®Ÿè¡Œå¯èƒ½ã€‚
                </div>
                <div class="file-details">
                    <h5>ğŸ”§ åˆ©ç”¨å¯èƒ½ã‚³ãƒãƒ³ãƒ‰</h5>
                    <ul>
                        <li><strong>make test:</strong> condaç’°å¢ƒã§ã®pytestå®Ÿè¡Œ</li>
                        <li><strong>make up/down:</strong> docker-compose æ“ä½œ</li>
                        <li><strong>make lint:</strong> black + flake8 ã§ã‚³ãƒ¼ãƒ‰ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ</li>
                        <li><strong>make dev:</strong> é–‹ç™ºç’°å¢ƒèµ·å‹•ï¼ˆ--buildä»˜ãï¼‰</li>
                    </ul>
                </div>
            </div>

            <div class="file-card">
                <h4>ğŸ³ Dockerfile.dev</h4>
                <div class="file-path">Dockerfile.dev</div>
                <div class="file-description">
                    <strong>é–‹ç™ºç”¨Dockerã‚¤ãƒ¡ãƒ¼ã‚¸:</strong> Python 3.11-slim ãƒ™ãƒ¼ã‚¹ã§ã€Git ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ¸ˆã¿ã€‚J-Quants API ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã®GitHubã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã«å¯¾å¿œã€‚
                </div>
                <div class="file-details">
                    <h5>ğŸ”§ æ§‹æˆå†…å®¹</h5>
                    <ul>
                        <li><strong>ãƒ™ãƒ¼ã‚¹ã‚¤ãƒ¡ãƒ¼ã‚¸:</strong> python:3.11-slim</li>
                        <li><strong>Git:</strong> GitHubä¾å­˜ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ç”¨</li>
                        <li><strong>ãƒãƒ¼ãƒˆ:</strong> 8000ç•ªã§uvicornèµ·å‹•</li>
                        <li><strong>ãƒªãƒ­ãƒ¼ãƒ‰:</strong> --reload ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã§é–‹ç™ºåŠ¹ç‡åŒ–</li>
                    </ul>
                </div>
            </div>

            <div class="file-card">
                <h4>ğŸ” .env.template</h4>
                <div class="file-path">.env.template</div>
                <div class="file-description">
                    <strong>ç’°å¢ƒå¤‰æ•°ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ:</strong> J-Quants APIèªè¨¼æƒ…å ±ã¨PostgreSQLæ¥ç¶šæƒ…å ±ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã€‚æœ¬ç•ªç’°å¢ƒã§ã¯.envãƒ•ã‚¡ã‚¤ãƒ«ã«ã‚³ãƒ”ãƒ¼ã—ã¦ä½¿ç”¨ã€‚
                </div>
                <div class="file-details">
                    <h5>ğŸ”§ è¨­å®šé …ç›®</h5>
                    <ul>
                        <li><strong>J-Quants:</strong> JQUANTS_ID, JQUANTS_PASSWORD</li>
                        <li><strong>PostgreSQL:</strong> PGHOST, PGPORT, PGUSER, PGPASSWORD</li>
                        <li><strong>ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹:</strong> PGDATABASE=postgres</li>
                    </ul>
                </div>
            </div>

            <div class="file-card">
                <h4>ğŸš« .gitignore</h4>
                <div class="file-path">.gitignore</div>
                <div class="file-description">
                    <strong>Gité™¤å¤–è¨­å®š:</strong> Pythonã€Dockerã€IDEã€ãƒ­ã‚°ãƒ•ã‚¡ã‚¤ãƒ«ç­‰ã‚’åŒ…æ‹¬çš„ã«é™¤å¤–ã€‚specification.txt ã‚‚é™¤å¤–å¯¾è±¡ï¼ˆæ©Ÿå¯†æƒ…å ±ä¿è­·ï¼‰ã€‚
                </div>
                <div class="file-details">
                    <h5>ğŸ”§ é™¤å¤–å¯¾è±¡</h5>
                    <ul>
                        <li><strong>Python:</strong> __pycache__, *.pyc, .env, venv/</li>
                        <li><strong>Docker:</strong> Dockerfile*, docker-compose*.yml</li>
                        <li><strong>IDE:</strong> .vscode/, .idea/, *.swp</li>
                        <li><strong>æ©Ÿå¯†:</strong> .env*, logs/, specification.txt</li>
                    </ul>
                </div>
            </div>

            <div class="file-card">
                <h4>ğŸ“– README.md</h4>
                <div class="file-path">README.md</div>
                <div class="file-description">
                    <strong>ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆèª¬æ˜:</strong> Sharpeæ¯”1.5ä»¥ä¸Šã‚’ç›®æŒ‡ã™æ ªå¼ãƒˆãƒ¬ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°BOTã®æ¦‚è¦ã€‚é–‹ç™ºå±¥æ­´ã¨é€²æ—çŠ¶æ³ã‚’è¨˜éŒ²ã€‚
                </div>
                <div class="file-details">
                    <h5>ğŸ”§ è¨˜è¼‰å†…å®¹</h5>
                    <ul>
                        <li><strong>ç›®æ¨™:</strong> Sharpeæ¯”1.5ä»¥ä¸Šã®å®‰å®šåç›Š</li>
                        <li><strong>æŠ€è¡“:</strong> CLIã€AIæ´»ç”¨ã€ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°å­¦ç¿’ç›®çš„</li>
                        <li><strong>é€²æ—:</strong> 7/18 Kafkaå®Ÿè£…ã€7/17 J-Quantsé€£æºå®Œäº†</li>
                        <li><strong>å‚™è€ƒ:</strong> å…¬é–‹ç”¨ãƒªãƒã‚¸ãƒˆãƒªï¼ˆæ©Ÿå¯†æƒ…å ±ã¯é™¤å¤–ï¼‰</li>
                    </ul>
                </div>
            </div>
        </section>

        <section id="next-steps" class="section">
            <h2>ğŸš€ 6. æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—</h2>
            
            <div class="warning-box">
                <h4>âš ï¸ é‡è¦ãªæœªå®Ÿè£…é …ç›®</h4>
                <p>ä»¥ä¸‹ã®é …ç›®ã¯ Phase P1 å®Œäº†ã®ãŸã‚ã«å¿…è¦ã§ã™ï¼š</p>
            </div>

            <div class="file-details">
                <h5>ğŸ”§ Phase P1 å®Œäº†ã¸ã®é“ç­‹</h5>
                <ul>
                    <li><strong>PostgreSQLé€£æº:</strong> rank_transformer.py ã®å®Ÿãƒ‡ãƒ¼ã‚¿å­¦ç¿’æ©Ÿèƒ½</li>
                    <li><strong>fetch_prices_daily.py:</strong> å®Ÿè£…ã¨ãƒ†ã‚¹ãƒˆï¼ˆç¾åœ¨å¤–éƒ¨ä¾å­˜ï¼‰</li>
                    <li><strong>universe.csv:</strong> å–å¼•å¯¾è±¡éŠ˜æŸ„ãƒªã‚¹ãƒˆã®ä½œæˆ</li>
                    <li><strong>ãƒ‡ãƒ¼ã‚¿ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³:</strong> ETL â†’ ç‰¹å¾´é‡ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ãƒªãƒ³ã‚° â†’ ãƒ¢ãƒ‡ãƒ«å­¦ç¿’ã®è‡ªå‹•åŒ–</li>
                </ul>
            </div>

            <div class="file-details">
                <h5>ğŸ”§ Phase P2 ä»¥é™ã®äºˆå®š</h5>
                <ul>
                    <li><strong>LSTM-Intraday:</strong> 5åˆ†å…ˆãƒªã‚¿ãƒ¼ãƒ³äºˆæ¸¬ãƒ¢ãƒ‡ãƒ«</li>
                    <li><strong>Real-time Signal:</strong> KafkaçµŒç”±ã®ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ å£²è²·ã‚·ã‚°ãƒŠãƒ«</li>
                    <li><strong>PPO Agent:</strong> å¼·åŒ–å­¦ç¿’ã«ã‚ˆã‚‹å‹•çš„ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒªã‚ªæœ€é©åŒ–</li>
                    <li><strong>SBI API:</strong> å®Ÿéš›ã®æ³¨æ–‡åŸ·è¡Œã‚·ã‚¹ãƒ†ãƒ </li>
                </ul>
            </div>

            <div class="phase-card phase-in-progress">
                <h4>ğŸ“ˆ ç¾åœ¨ã®æŠ€è¡“çš„è² å‚µ</h4>
                <ul>
                    <li>RankTransformer ã®å®Ÿãƒ‡ãƒ¼ã‚¿å­¦ç¿’æ©Ÿèƒ½ãŒæœªå®Ÿè£…</li>
                    <li>Kafka Producer/Consumer ã®å‰Šé™¤ã«ã‚ˆã‚Šå®Ÿæ™‚é–“ãƒ‡ãƒ¼ã‚¿å‡¦ç†ãŒåœæ­¢</li>
                    <li>ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿ãŒäººå·¥çš„ï¼ˆ100è¡Œãƒ©ãƒ³ãƒ€ãƒ ï¼‰ã§å®Ÿç”¨æ€§ãŒé™å®šçš„</li>
                    <li>PostgreSQL ã¨ã®é€£æºãƒ†ã‚¹ãƒˆãŒä¸ååˆ†</li>
                </ul>
            </div>
        </section>

        <div class="footer">
            <p>ğŸ¤– æ ªå¼è‡ªå‹•å£²è²·BOT - Project Documentation</p>
            <p>Generated: 2025å¹´7æœˆ18æ—¥ | Status: Phase P1 é€²è¡Œä¸­</p>
            <p><strong>âš ï¸ æœ¬ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¯é–‹ç™ºç”¨é€”ã®ãŸã‚ã€GitHubã«ã¯pushã—ãªã„ã§ãã ã•ã„</strong></p>
        </div>
    </div>
</body>
</html>